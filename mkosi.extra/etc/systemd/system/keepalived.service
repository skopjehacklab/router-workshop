# override the upstream keepalived service file to fix PIDFile and dependencies
# https://bugs.archlinux.org/task/53644
[Unit]
Description=LVS and VRRP High Availability Monitor
After=syslog.target network-online.target network.target
Requires=network.target

[Service]
Type=forking
PIDFile=/run/keepalived.pid
EnvironmentFile=-/etc/sysconfig/keepalived
ExecStart=/usr/bin/keepalived $KEEPALIVED_OPTIONS
ExecReload=/bin/kill -HUP $MAINPID

[Install]
WantedBy=multi-user.target
